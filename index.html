<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Revista DSSMA | Saúde, Segurança e Meio Ambiente</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* RESET SIMPLES */
        * { margin:0; padding:0; box-sizing:border-box; }
        html { -webkit-text-size-adjust:100%; -webkit-tap-highlight-color:transparent; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background:#F2F2F2; color:#333; line-height:1.6; padding:10px;
        }
        .container { max-width:800px; margin:0 auto; }

        /* CAPA */
        .capa {
            background: linear-gradient(135deg, #378C8C 0%, #3A8C84 100%);
            color:white; border-radius:15px; padding:30px 20px; text-align:center; margin-bottom:20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .capa h1 { font-size:1.6rem; margin-bottom:10px; }
        .capa p { font-size:1rem; opacity:0.9; margin-bottom:15px; }
        .capa-icon { font-size:3rem; margin:15px 0; }

        /* ÍNDICE */
        .indice { background:white; border-radius:15px; padding:20px; margin-bottom:20px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
        .indice h2 { color:#378C8C; margin-bottom:15px; font-size:1.3rem; }
        .indice-lista { display:flex; flex-direction:column; gap:10px; }
        .indice-item {
            display:block; padding:15px; background:rgba(55,140,140,0.08); border-radius:10px;
            border-left:4px solid #378C8C; text-decoration:none; color:#333; transition:all .2s;
        }
        .indice-item:hover { transform: translateY(-3px); }
        .indice-numero { font-weight:bold; color:#378C8C; font-size:1rem; }

        /* PÁGINAS */
        .pagina { background:white; border-radius:15px; padding:25px 20px; margin-bottom:20px; box-shadow:0 4px 10px rgba(0,0,0,0.1); border-top:5px solid #378C8C; position:relative; }
        .pagina-ambiente { border-top-color:#2E7D5F; }
        .pagina-comportamento { border-top-color:#2E7D5F; }
        .pagina-numero { position:absolute; top:15px; right:15px; background:#D45A2E; color:white; width:35px; height:35px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:1rem; }
        .pagina-titulo { color:#378C8C; font-size:1.2rem; font-weight:600; margin-bottom:15px; padding-right:50px; }
        .pagina-ambiente .pagina-titulo { color:#2E7D5F; }
        .pagina-comportamento .pagina-titulo { color:#2E7D5F; }
        .pagina-conteudo { font-size:1.05rem; line-height:1.7; color:#444; margin-bottom:20px; }

        /* PERGUNTA */
        .pergunta { background: rgba(55,140,140,0.08); border-left:4px solid #378C8C; padding:15px; border-radius:0 10px 10px 0; margin-top:20px; }
        .pergunta-titulo { color:#378C8C; font-weight:600; font-size:0.9rem; margin-bottom:8px; }
        .pergunta-texto { font-size:1rem; color:#58594F; font-style:italic; line-height:1.5; }

        /* NAVEGAÇÃO */
        .navegacao { display:flex; justify-content:space-between; margin-top:25px; padding-top:20px; border-top:1px solid rgba(0,0,0,0.1); gap:10px; flex-wrap:wrap; }
        .btn { padding:12px 20px; background:#378C8C; color:white; border:none; border-radius:10px; font-weight:600; font-size:0.95rem; display:inline-flex; align-items:center; gap:8px; text-decoration:none; transition:all .2s; min-height:45px; }
        .btn:active { opacity:0.8; transform:scale(.96); }
        .btn-voltar { background:#93BFBB; color:#043; }
        .indice-mini { background:transparent; color:#378C8C; border-left: none; padding-left:0; }

        /* RODAPÉ */
        .rodape { background: rgba(55,140,140,0.08); border-radius:15px; padding:25px 20px; margin-top:30px; text-align:center; }
        .rodape h3 { color:#378C8C; font-size:1.2rem; margin-bottom:15px; }

        /* BADGE */
        .badge { display:inline-block; padding:4px 10px; border-radius:15px; font-size:0.75rem; font-weight:600; margin-left:8px; }
        .badge-seguranca { background: rgba(55,140,140,0.15); color:#000080; }
        .badge-ambiente { background: rgba(46,125,95,0.15); color:#2E7D5F; }
        .badge-comportamento { background: rgba(212,90,46,0.15); color:#D45A2E; }

        /* BOTÃO TOPO */
        .topo-btn {
            position: fixed; bottom:20px; right:20px; width:50px; height:50px; background:#378C8C; color:white; border-radius:50%;
            display:flex; align-items:center; justify-content:center; font-size:1.2rem; box-shadow:0 3px 10px rgba(0,0,0,0.2); text-decoration:none; opacity:0; transition:opacity .3s;
        }
        .topo-btn.visible { opacity:1; }

        /* RESPONSIVO */
        @media (max-width: 768px) {
            body { padding:8px; }
            .capa h1 { font-size:1.4rem; }
            .indice-item { padding:12px; }
            .pagina { padding:20px 15px; }
            .pagina-titulo { font-size:1.1rem; }
            .btn { padding:10px 15px; font-size:0.9rem; }
        }
    </style>
</head>
<body>
   
    <a href="#capa" class="topo-btn" id="topoBtn" aria-label="Subir ao topo"><i class="fas fa-arrow-up"></i></a>

    <div class="container">
        <!-- CAPA -->
        <section class="capa" id="capa">
            
            <div style="text-align:center; margin-bottom:0px;">
            <img src="./logoERO.png" alt="Logo ERO Brasil" style="max-width:100px;height:auto;border-radius:5px">
            </div>
            
            <h1>Revista DSSMA - Beneficiamento ERO Tucumã</h1>
            <p>Diálogo Diário de Saúde, Segurança e Meio Ambiente • Edição Inaugural de Dezembro de 2025</p>
            <p style="margin-top:10px;"><strong>Cuidar é prevenir. Trabalhar juntos é evoluir.</strong></p>
        </section>

        <!-- ÍNDICE -->
        <section class="indice" id="indice">
            <h2><i class="fas fa-list-ol"></i> Índice Interativo</h2>
            <p style="margin-bottom:15px; color:#666; font-size:0.9rem;">Toque em qualquer tópico para ler:</p>
            <div class="indice-lista" id="indiceLista"><!-- conteúdo gerado --></div>

            <div style="text-align:center; margin-top:20px;">
                <a href="#pagina-1" id="startReadingBtn" class="btn" style="background:#D45A2E;">
                    <i class="fas fa-play-circle"></i> Começar a Ler
                </a>
            </div>
        </section>

        <!-- Onde as páginas serão inseridas -->
        <div id="paginas"></div>

        <!-- RODAPÉ -->
        <section class="rodape" id="rodape">
            <h3>Nossa segurança é construída todo dia, por cada um de nós.</h3>
            <p style="margin:15px 0; color:#555;">Comunique, previna, cuide-se e cuide do próximo.</p>
            <div style="margin:20px 0; color:#378C8C; font-weight:700; font-size:1.1rem;">PENSE SEGURO. AJA SEGURO. VOLTE SEGURO.</div>

            <a href="#capa" class="btn" style="background:#93BFBB;">
                <i class="fas fa-home"></i> Voltar ao Início
            </a>

            <div style="margin-top:25px; font-size:0.8rem; color:#666; line-height:1.5;">
                <p>Revista DSSMA Digital • Use como guia para seus Diálogos Diários de Saúde, Segurança e Meio Ambiente</p>
                <p>Idealizado por Aline Suene - aline.andrade@erobr.com & Odino Cutrim - odino.junior@erobr.com</p>
                <p>Criado e editado por Alexandre Oliveira</p>
                <p>+55 (91) 99232-7693</p>
                <p>alexandre.oliveira@erobr.com</p>
            </div>
        </section>
    </div>

    <script>
    (function(){
        'use strict';

        const topoBtn = document.getElementById('topoBtn');
        window.addEventListener('scroll', function() {
            if (window.scrollY > 300) topoBtn.classList.add('visible'); else topoBtn.classList.remove('visible');
        });

        // Suavizar scroll para âncoras (delegado)
        document.addEventListener('click', function(e){
            const a = e.target.closest('a[href^="#"]');
            if (!a) return;
            const href = a.getAttribute('href');
            if (href === '#') return;
            const target = document.querySelector(href);
            if (target) {
                e.preventDefault();
                window.scrollTo({ top: target.offsetTop - 20, behavior: 'smooth' });
            }
        });

        // Carregar temas do JSON e gerar índice + páginas
        async function carregarTemas() {
            try {
                const res = await fetch('temas.json', { cache: "no-store" });
                if (!res.ok) throw new Error('Não foi possível carregar temas.json: ' + res.status);
                const temas = await res.json();

                gerarIndice(temas);
                gerarPaginas(temas);
            } catch (err) {
                console.error(err);
                const container = document.getElementById('paginas');
                container.innerHTML = '<div style="background:#ffecec;border:1px solid #f5c6cb;padding:20px;border-radius:10px;">Erro ao carregar <strong>temas.json</strong>. Verifique se o arquivo existe na mesma pasta e se está sendo servido por um servidor (fetch pode falhar ao abrir o arquivo diretamente no sistema de arquivos). Mensagem: ' + err.message + '</div>';
            }
        }

        function gerarIndice(temas) {
            const indiceLista = document.getElementById('indiceLista');
            indiceLista.innerHTML = temas.map(t => `
                <a href="#pagina-${t.id}" class="indice-item">
                    <div class="indice-numero">${t.id}. ${t.titulo}</div>
                    <div style="font-size:0.85rem; color:${categoriaCor(t.categoria)}; margin-top:5px;">
                        <i class="${t.icone}"></i> ${t.categoria}
                    </div>
                </a>
            `).join('');
            // Ajusta botão começar a ler para o primeiro tema existente
            const startBtn = document.getElementById('startReadingBtn');
            if (temas.length) startBtn.setAttribute('href', '#pagina-' + temas[0].id);
        }

        function gerarPaginas(temas) {
            const paginas = document.getElementById('paginas');
            let html = '';
            temas.forEach((t, i) => {
                const classePagina = t.categoria.toLowerCase().includes('ambiente') ? 'pagina pagina-ambiente' :
                                     t.categoria.toLowerCase().includes('comport') ? 'pagina pagina-comportamento' : 'pagina';
                html += `
                <section class="${classePagina}" id="pagina-${t.id}">
                    <div class="pagina-numero">${t.id}</div>
                    <h2 class="pagina-titulo">
                        <i class="${t.icone}"></i>
                        ${t.titulo}
                        <span class="badge ${t.badgeClass}">${t.categoria}</span>
                    </h2>
                    <div class="pagina-conteudo">${t.conteudo}</div>

                    <div class="pergunta">
                        <div class="pergunta-titulo">
                            <i class="fas fa-question-circle"></i>
                            PARA REFLEXÃO NO DSSMA
                        </div>
                        <div class="pergunta-texto">"${t.pergunta}"</div>
                    </div>

                    <div class="navegacao">
                        ${ i > 0 ? `<a href="#pagina-${temas[i-1].id}" class="btn btn-voltar"><i class="fas fa-arrow-left"></i> Anterior</a>` : `<div></div>` }
                        ${ i < temas.length - 1 ? `<a href="#pagina-${temas[i+1].id}" class="btn">Próximo <i class="fas fa-arrow-right"></i></a>` : `<div></div>` }
                    </div>

                    <div style="text-align:center; margin-top:15px;">
                        <a href="#indice" class="btn btn-voltar"><i class="fas fa-list"></i> Índice</a>
                    </div>
                </section>
                `;
            });
            paginas.innerHTML = html;
        }

        function categoriaCor(cat) {
            if (!cat) return '#378C8C';
            const c = cat.toLowerCase();
            if (c.includes('ambiente')) return '#2E7D5F';
            if (c.includes('comport')) return '#D45A2E';
            return '#378C8C';
        }

        // Inicializa
        carregarTemas();

        // Debug simples
        console.log('Revista DSSMA carregada (modo dinâmico com temas.json)');
    })();
    </script>
</body>
</html>








